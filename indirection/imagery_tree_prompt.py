SYSTEM_PROMPT = """你是一個文學意象識別助手。現在有一段文字輸入，請你找出其中具有意象意涵的**關鍵詞**，並標註其所屬的意象**分類標籤**（精確到預先定義的最低層級類別）。如果某個詞對應多種意象分類，請同時列出所有適用的標籤。

從下列意象中選取：
- 生活空间
    - 家庭内部（例: 榻榻米）
    - 軍眷村社區（例: 眷村、眷舍）
    - 校園空間（例: 女校、操場）
    - 公共服務（例：郵局、警局）
    - 都市建築（例: 高架道路）
- 人文地景
    - 臺北場景（例：淡水河口、觀音山）
    - 大陸場景（例：長江、故宮）
    - 日本場景（例：神社、清水寺）
    - 異域場景（例：巴黎、聖馬可廣場）
- 自然景象
    - 日月星辰（例: 藍月、銀河、流星）
    - 天氣現象（例: 雷聲、積雨雲、風暴）
    - 江河湖海（例: 新店溪、太平洋、紅海）
    - 山川丘陵（例: 東山、玉山、火山）
    - 動物（例：貓、烏鴉、鹿、蜥蜴）
    - 植物（例：雞蛋花、芭樂、檳榔樹）
- 飲食文化
    - 大陸菜（例: 八寶飯、臭豆腐、糟白魚）
    - 本土飲食 （例: 芒果冰、鳳梨酥）
    - 異國飲食（例: 鰻魚飯、義大利麵、印度咖哩）
- 宗教神話
    - 佛教風物（例: 古剎、觀音）
    - 基督教風物（例: 耶穌、伊甸園）
    - 本土信仰 （例：媽祖、土地公）
    - 其他宗教（例：波塞冬、耶路撒冷）
- 感官意象
    - 嗅覺（例: 香水、茶香、臭豆腐味）
    - 聽覺（例: 鳥叫聲、呢喃、雷聲、靜默）
    - 視覺（例: 藍天、白雲、紅色）
    - 味覺（例: 鮮甜、苦澀）
    - 觸覺（例: 溫暖、冰冷、柔軟）

**要求**：輸出必須是JSON格式的結構化數據。將每個關鍵詞及其標籤作為一個JSON對象，包括：
- `"keyword"`：意象關鍵詞（原文出現的詞語）。
- `"labels"`：該詞的意象分類標籤（列表形式，可包含多個分類）。
- `"reason"`：（可選）簡要說明為何該詞屬於上述分類。

請嚴格按照JSON數組的格式輸出所有標註結果，不要輸出除JSON之外的多餘內容。
"""

EXAMPLE_ONE = """那天黃昏，外婆坐在榻榻米上，望著院裡燃起的蚊香發呆，眼角掛著淚水。"""

RESPONSE_ONE = """
[
  {
    "keyword": "榻榻米",
    "labels": ["生活空间-家庭内部"],
    "reason": "「榻榻米」出現在家庭居室的場景中，屬於家庭内部空間意象。"
  },
  {
    "keyword": "蚊香",
    "labels": ["感官意象-嗅覺"],
    "reason": "「蚊香」燃燒時的氣味營造出夏夜氛圍，屬於氣味嗅覺類意象。"
  }
]
"""

EXAMPLE_TWO = """那時候的天空藍多了，藍得讓人老念著那大海就在不遠處好想去，因此夏天的積亂雲堡雪砌成般的顯得格外白，陽光穿過未有阻攔的乾淨空氣特強烈，奇怪並不覺其熱，起碼傻傻的站在無遮蔭處，不知何去何從一下午，也從沒半點中暑跡象。"""
RESPONSE_TWO = """
[
{
"keyword": "天空",
"labels": ["自然景象-日月星辰"],
"reason": "描寫廣闊高遠的天空景象，屬於自然景象中的天空意象。"
},
{
"keyword": "大海",
"labels": ["自然景象-江河湖海"],
"reason": "提及遼闊的大海，呈現自然水域景觀，屬自然景象類的海洋意象。"
},
{
"keyword": "積亂雲",
"labels": ["自然景象-天氣現象"],
"reason": "積亂雲屬於天空中的雲朵天氣現象，營造出自然景象的氣象意象。"
},
{
"keyword": "藍",
"labels": ["感官意象-視覺"],
"reason": "藍色形容天空的顏色，帶來強烈視覺印象，屬於視覺感官意象。"
}
]
"""

EXAMPLE_THREE = """我只好再嗅，不慎嗅到剛剛沾到的燒酒蜆仔的蒜汁腥臭、濕紙巾努力抹過的廉價、比××花露水還廉價的、簡直不該說它是香味的味兒，還有…… 他看出了我的「還有」，快樂的說出答案：「香茅油！我有三十年沒聞過了……」Ａ深深吸著氣。"""
RESPONSE_THREE = """
[
{
"keyword": "燒酒蜆仔",
"labels": ["飲食文化-異國飲食", "感官意象-嗅覺"],
"reason": "指一道酒漬蜆仔料理，燒酒屬於韓國料理，其散發出的腥臭味突出，是飲食意象也是嗅覺上的強烈氣味。"
},
{
"keyword": "蒜汁腥臭",
"labels": ["感官意象-嗅覺"],
"reason": "形容帶有大蒜汁的腥臭味道，直接喚起嗅覺感受，屬於嗅覺意象。"
},
{
"keyword": "廉價香味",
"labels": ["感官意象-嗅覺"],
"reason": "指濕紙巾殘留的低劣香氣，以味道呈現廉價感，屬於嗅覺意象的範疇。"
},
{
"keyword": "香茅油",
"labels": ["感官意象-嗅覺"],
"reason": "香茅油獨特的氣味勾起嗅覺記憶，在段落中屬於氣味的感官意象。"
}
]
"""

EXAMPLE_FOUR = """貧民窟，它雖位於冷風長驅來去的公寓頂樓，卻冷濕昏茫猶如地下室，因此跟隨我流浪的馬與劍、咖啡機與床頭ＣＤ都生銹陣亡不能挽救；我的一條心愛的Wedgwood大手帕、與同品牌的紅茶杯一樣有著野莓蔓藤的圖樣，但其洋溢的春天野地的氣氛也無法遮擋掩蓋住其下兩大箱因為害怕搬家而不再打開的書……"""
RESPONSE_FOUR = """
[
{
"keyword": "貧民窟",
"labels": ["生活空間-都市建築"],
"reason": "以「貧民窟」形容居所環境暗淡破敗，屬於都市生活空間的建築意象。"
},
{
"keyword": "地下室",
"labels": ["生活空間-都市建築"],
"reason": "描述公寓頂樓卻如陰暗地下室般潮濕，呈現建築空間的幽閉感，屬生活空間意象。"
},
{
"keyword": "野莓蔓藤",
"labels": ["自然景象-植物"],
"reason": "提到手帕和茶杯上的野莓蔓藤圖樣，象徵春日野地的植物景象，屬自然景象的植物意象。"
},
{
"keyword": "咖啡機",
"labels": ["飲食文化-異國飲食"],
"reason": "咖啡機是製作咖啡的器具，屬於異國飲食文化的象徵。"
},
{
"keyword": "紅茶杯",
"labels": ["飲食文化-異國飲食"],
"reason": "紅茶杯是飲用紅茶的器具，象徵異國飲食文化。"
},
{
"keyword": "春天野地的氣氛",
"labels": ["感官意象-嗅覺"],
"reason": "春天的氣氛帶來清新自然的感受，屬於嗅覺意象。"
}
]
"""

EXAMPLE_FIVE = """行過夾道數十尊羊頭獅身卧像的大道，繞行進出幾座門樓，神廟最壯觀的圓柱殿已從好些個角度打足了夜燈，燈光自地面仰射至柱身柱底天空，一百多尊直徑三公尺半的列柱，便單單純純蓮梗或莎草莖一樣向天空生長上去，這樣是為了懷想創世神造世界時的原始沼澤吧，你們當然是其下的蜉蝣類了。"""
RESPONSE_FIVE = """
[
{
"keyword": "羊頭獅身卧像",
"labels": ["宗教神話-其他宗教", "人文地景-異域場景"],
"reason": "羊頭獅身卧像是埃及神話中的神祇形象，屬於宗教神話意象，也可視為異域場景的地標。"
},
{
"keyword": "卡納克神廟",
"labels": ["宗教神話-其他宗教", "人文地景-異域場景"],
"reason": "段落描寫埃及卡納克神廟的宏偉建築場景，屬於宗教建築意象。"
},
{
"keyword": "創世神",
"labels": ["宗教意象-其他宗教"],
"reason": "提及創世神營造原初世界，屬於宗教信仰中的神祇意象。"
}
]
"""


EXAMPLE_SIX = """晒場上，從早響到晚的蟬聲，其實自成一種寂靜的意思，四周高大的相思樹叢被風掀得一頓一頓，因為看不仔細，老讓他以為置身在初夏的白楊樹、核桃樹、樅樹叢圍繞的農莊，林中有夜鶯啼叫，空氣中應該是丁香花蘋果花和松脂的香味……"""
RESPONSE_SIX = """
[
{
"keyword": "蟬聲",
"labels": ["自然景象-動物", "感官意象-聽覺"],
"reason": "持續整天的蟬鳴營造了背景音，突出聽覺感受，象徵靜謐氛圍中的自然聲音意象。"
},
{
"keyword": "寂靜",
"labels": ["感官意象-聽覺"],
"reason": "蟬聲的持續響起反而襯托出一種靜謐的感覺，屬於聽覺意象。"
},
{
"keyword": "白楊樹、核桃樹、樅樹",
"labels": ["自然景象-植物"],
"reason": "周圍高大的相思樹叢構成環境背景，屬於自然景物中的植物意象。"
},
{
"keyword": "夜鶯",
"labels": ["自然景象-動物", "感官意象-聽覺"],
"reason": "夜鶯的啼叫聲迴響林中，夜鶯作為鳥類屬動物意象，其鳴聲同時帶來聽覺意象。"
},
{
"keyword": "丁香花蘋果花和松脂",
"labels": ["自然景象-植物", "感官意象-嗅覺"],
"reason": "丁香花蘋果花在空氣中散發香氣，作為植物花卉意象，同時喚起嗅覺上的芳香感受。"
}
]
"""

EXAMPLE_SEVEN = """學會吃椰棗泥、紙莎草根，喝大麥酒……他們捕捉蝗蟲，將之曝晒、研碎，散到奶里飲用……顧名思義他們唯一的食品就是蓮子，不單吃它，還用它來釀酒。"""
RESPONSE_SEVEN = """
[
{
"keyword": "椰棗泥",
"labels": ["飲食文化-異國飲食"],
"reason": "椰棗泥是一種甜食（棗泥），常見於伊拉克、埃及、沙烏地阿拉伯和伊朗。"
},
{
"keyword": "紙莎草根",
"labels": ["飲食文化-異國飲食"],
"reason": "紙莎草的根部作為食物被提及，屬於飲食意象中可食用的植物根莖。"
},
{
"keyword": "大麥酒",
"labels": ["飲食文化-異國飲食"],
"reason": "大麥酒是以大麥為原料釀造的酒類，屬於異國飲食文化的飲品。"
},
{
"keyword": "蝗蟲",
"labels": ["自然景象-動物", "飲食文化-異國飲食"],
"reason": "蝗蟲本是昆蟲動物，在此被製成食物飲用，既是動物意象又屬於非常態食材的飲食意象。"
},
{
"keyword": "蓮子",
"labels": ["自然景象-植物", "飲食文化-異國飲食"],
"reason": "蓮子的提及象徵蓮花植物果實，可供食用與釀酒，兼具植物意象和食物意象的雙重屬性。"
}
]
"""

GENERATION_PROMPT = """{text}"""

default = [
    {"role": "user", "content": EXAMPLE_ONE},
    {"role": "assistant", "content": RESPONSE_ONE},
    {"role": "user", "content": EXAMPLE_TWO},
    {"role": "assistant", "content": RESPONSE_TWO},
    {"role": "user", "content": EXAMPLE_THREE},
    {"role": "assistant", "content": RESPONSE_THREE},
    {"role": "user", "content": EXAMPLE_FOUR},
    {"role": "assistant", "content": RESPONSE_FOUR},
    {"role": "user", "content": EXAMPLE_FIVE},
    {"role": "assistant", "content": RESPONSE_FIVE},
    {"role": "user", "content": EXAMPLE_SIX},
    {"role": "assistant", "content": RESPONSE_SIX},
    {"role": "user", "content": EXAMPLE_SEVEN},
    {"role": "assistant", "content": RESPONSE_SEVEN},
]


def prompt_formatter(text):

    prompt = [
        {"role": "system", "content": SYSTEM_PROMPT},
        *default,
        {"role": "user", "content": text},
    ]
    
    return prompt
